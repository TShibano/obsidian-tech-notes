---
name: tech-note
description: 技術トピックを調査し、Notes/ に技術ノートを作成する
user-invocable: true
---

# 技術ノート作成

以下の手順で技術ノートを作成してください。

## 1. 引数の解析

`$ARGUMENTS` を解析してトピック名とフォーカス指示を分離する:

- 最初のトークンがトピック名（= ファイル名）になる
- ダブルクォートで囲まれている場合はクォート内全体がトピック名（例: `"Next.js"` → `Next.js`）
- トピック名以降のテキストはリサーチのフォーカス指示として扱う
- フォーカス指示がなければ概要・基本概念・最新動向を幅広く調査する

**例:**
- `Transformer` → トピック: Transformer, フォーカス: なし
- `Transformer アーキテクチャの詳細` → トピック: Transformer, フォーカス: アーキテクチャの詳細
- `"Next.js" App Routerの仕組み` → トピック: Next.js, フォーカス: App Routerの仕組み

## 2. 既存ノートの確認

- `Notes/{トピック名}.md` が既に存在するか確認する
- 存在する場合はユーザーに以下の選択肢を提示する:
  - **上書き**: 既存ノートを削除して新規作成
  - **マージ**: 既存内容を保持しつつ新情報を追記
  - **キャンセル**: 処理を中止

## 3. WebSearch による調査

以下の4観点で WebSearch を複数回実行し、情報を収集する:

1. **基本概念**: トピックの定義、歴史、背景
2. **フォーカス内容**: ユーザーが指定したフォーカス指示に沿った詳細情報
3. **最新動向**: 最新バージョン、最近の発表、トレンド
4. **実践例**: ユースケース、ベストプラクティス、実装例

**注意事項:**
- 一次情報源を優先する（公式ドキュメント、公式ブログ、論文など）
- まとめ記事経由の情報は追加検索で一次情報源を特定する

## 4. タグの選定

以下のタグ体系に基づいて、親タグ+サブタグを付与する:

| 親タグ | サブタグ例 |
|--------|-----------|
| `AI` | `LLM`, `ML`, `Agent`, `NLP`, `ComputerVision` |
| `Web` | `Frontend`, `Backend`, `API`, `Framework` |
| `Cloud` | `AWS`, `GCP`, `Azure`, `K8s`, `Serverless` |
| `DevOps` | `CI/CD`, `IaC`, `Monitoring` |
| `Security` | `Auth`, `Encryption`, `ZeroTrust` |
| `DB` | `SQL`, `NoSQL`, `VectorDB` |
| `Language` | `Python`, `TypeScript`, `Go`, `Rust` |
| `Tool` | `Git`, `Editor`, `CLI` |

- トピックの性質に応じて1〜3個のタグを選定する
- 親タグとサブタグの両方を付与する（例: `AI`, `LLM`）

## 5. ノートの作成

`Templates/tech-note.md` のテンプレート構造に従って日本語で記述する:

```yaml
---
title: "トピック名"
date: YYYY-MM-DD
tags:
  - 親タグ
  - サブタグ
related:
  - "[[関連ノート]]"
---
```

### セクション構成

- **概要**: トピックの簡潔な説明（1-3文）
- **詳細**: トピックの詳細な解説。フォーカス指示がある場合はその内容を重点的に記述
- **ポイント**: 重要な点を箇条書きで整理
- **関連項目**: 関連する既存ノートへの `[[ノート名]]` リンク、および今後作成予定のノートへのファントムリンク
- **参考**: 調査で使用した一次情報源へのリンク

## 6. 双方向リンクの整合性維持

関連ノートとして `[[ノート名]]` でリンクした既存ノートに対して、逆リンクを追加する:

1. リンク先ノートの `related` frontmatter に `"[[今回のトピック名]]"` を追加
2. リンク先ノートの「関連項目」セクションに `- [[今回のトピック名]]` を追加

**注意**: 既に逆リンクが存在する場合は追加しない（重複を避ける）

## 7. ファイルの保存

- `Notes/{トピック名}.md` として保存する
- 保存完了後、作成したノートの概要をユーザーに報告する

## 8. コミットとプッシュ

新規作成/更新したノートファイルと逆リンクを追加した既存ノートファイルをコミットしてリモートにプッシュする:

1. 対象ファイル（`Notes/` 配下）を `git add` でステージング
2. 以下の形式でコミットメッセージを作成し `git commit` する:
   - 形式: `技術調査: トピック名`
   - 例: `技術調査: Transformer`
3. `git push` でリモートにプッシュ
