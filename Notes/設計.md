---
title: "設計"
date: 2026-02-20
tags:
  - DevOps
related:
  - "[[要件定義]]"
  - "[[テスト駆動開発]]"
  - "[[プロセス設計]]"
---

## 概要

ソフトウェア設計（Software Design）とは、要件定義で明確になった「何を作るか」を受けて、「どのように作るか」の構造・振る舞い・アーキテクチャを決定するプロセスである。基本設計（外部設計）と詳細設計（内部設計）の2段階に分かれ、それぞれ異なる抽象度・対象者向けの成果物を生み出す。

## 詳細

### 設計フェーズの全体像

```
[要件定義]
     ↓
[基本設計（外部設計）]  ← ユーザー・業務視点の「What」
     ↓
[詳細設計（内部設計）]  ← 開発者視点の「How」
     ↓
[実装（コーディング）]
     ↓
[テスト]
```

### 基本設計（外部設計）

ユーザーから見えるシステムの振る舞い・構造を定義する段階。「システムが何をするか（What）」を決める。

**主な成果物：**
- 画面設計書（画面レイアウト・画面遷移図）
- 機能一覧・機能仕様書
- データフロー図（DFD）
- 外部インターフェース設計（API 仕様・外部システム連携）
- テーブル定義書（概念データモデル）
- 帳票設計書

**対象読者:** ユーザー・業務担当者・QA（非技術者も含む）

### 詳細設計（内部設計）

システムの内部構造・実装方法を定義する段階。「どうやって実現するか（How）」を決める。

**主な成果物：**
- クラス図・シーケンス図（UML）
- モジュール仕様書（入出力・処理ロジック）
- DB 論理・物理設計書（テーブル定義・インデックス・正規化）
- API 詳細仕様（リクエスト/レスポンス定義）
- アルゴリズム設計

**対象読者:** 開発者

### ソフトウェアアーキテクチャの主要パターン

設計の上位概念として、システム全体の構造を定めるアーキテクチャパターンがある：

| アーキテクチャ | 概要 | 適した用途 |
|--------------|------|-----------|
| **レイヤードアーキテクチャ** | プレゼンテーション・ビジネス・データ等の層に分離 | 一般的なビジネスアプリ |
| **クリーンアーキテクチャ** | ビジネスロジックを外部技術詳細から完全に独立させる | 長期保守性が重要なシステム |
| **ヘキサゴナルアーキテクチャ** | ポートとアダプタでビジネスロジックを隔離 | テスト容易性・柔軟性重視 |
| **マイクロサービスアーキテクチャ** | 機能ごとに独立したサービスを構成 | スケーラビリティ・独立デプロイ |
| **イベント駆動アーキテクチャ** | イベントの発行・購読でコンポーネントを疎結合 | リアルタイム処理・拡張性 |

### 設計原則

良い設計を導く代表的な原則：

**SOLID 原則（オブジェクト指向設計）**
- **S**ingle Responsibility Principle: クラスは単一の責任を持つ
- **O**pen/Closed Principle: 拡張に対して開き、変更に対して閉じる
- **L**iskov Substitution Principle: サブクラスはスーパークラスに置換可能
- **I**nterface Segregation Principle: インターフェースは細かく分ける
- **D**ependency Inversion Principle: 抽象に依存し、具象に依存しない

**その他の原則**
- **DRY（Don't Repeat Yourself）**: 重複を排除する
- **KISS（Keep It Simple, Stupid）**: シンプルに保つ
- **YAGNI（You Ain't Gonna Need It）**: 必要になるまで作らない
- **関心の分離（Separation of Concerns）**: 異なる関心ごとは別モジュールに

### データベース設計の3フェーズ

| フェーズ | 概要 |
|---------|------|
| **概念設計** | エンティティ・関係を ER 図で表現（DBMSに依存しない） |
| **論理設計** | 正規化・テーブル定義（特定の DB モデルに依存） |
| **物理設計** | インデックス・パーティション・ストレージ設計（特定 DBMS に依存） |

### デザインパターン

GoF の23パターン（生成・構造・振る舞いの3カテゴリ）が代表的。

よく使われるパターン例：
- **Singleton**: インスタンスを1つに制限
- **Factory Method**: オブジェクト生成をサブクラスに委ねる
- **Observer**: 状態変化を複数オブジェクトに通知
- **Strategy**: アルゴリズムを動的に切り替え
- **Repository**: データアクセスをビジネスロジックから分離

## ポイント

- 基本設計は「What（外から見た動き）」、詳細設計は「How（内部の実装方法）」を決める
- アーキテクチャ選択は後から変えにくいため、要件・チーム・スケール等を考慮して早期に決定する
- SOLID・DRY・KISS 等の原則は「なぜそう設計するか」の根拠を与える
- データベース設計は概念→論理→物理の順で段階的に具体化する
- 設計書は開発者が「どう実装するか」を迷わないように、十分な詳細度を確保する

## 関連項目

- [[要件定義]]
- [[テスト駆動開発]]
- [[プロセス設計]]

## 参考

- [ソフトウェア設計とは？設計のポイントや設計書の書き方を解説](https://products.sint.co.jp/ober/blog/softwaredesign)
- [ソフトウェアアーキテクチャとは？基本の要素や具体例をわかりやすく解説](https://jitera.com/ja/insights/10499)
- [基本設計・詳細設計とは？仕様書との違いは？](https://products.sint.co.jp/ober/blog/basic-design-detailed-design)
- [ソフトウェア設計・アーキテクチャの学び方](https://qiita.com/ROPITAL/items/165bef33492ba27cfbf7)
