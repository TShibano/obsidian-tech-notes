---
title: "オブジェクトストレージ"
date: 2026-02-07
tags:
  - Cloud
  - DB
related:
  - "[[データ基盤]]"
  - "[[データレイク]]"
  - "[[MinIO]]"
  - "[[Apache Parquet]]"
---

## 概要

オブジェクトストレージとは、データを「オブジェクト」単位で管理するストレージ方式である。従来の階層的なディレクトリ構造ではなく、フラットな名前空間にデータを格納し、各オブジェクトに一意の ID とカスタマイズ可能なメタデータを付与することでデータを識別・管理する。HTTP(S) / REST API 経由でアクセスし、ほぼ無限のスケーラビリティとコスト効率の高さから、クラウド時代の主要なストレージ方式となっている。

## 詳細

### オブジェクトの構成要素

オブジェクトストレージに格納される各オブジェクトは以下の3要素で構成される:

| 要素 | 説明 |
|------|------|
| **データ本体** | 画像、動画、ログ、バックアップなど、任意の形式のデータ |
| **メタデータ** | データの属性情報（サイズ、作成日時、コンテンツタイプなど）。カスタムメタデータも自由に付与可能 |
| **一意の識別子（ID/キー）** | フラットな名前空間内でオブジェクトを一意に特定するためのキー |

### 3つのストレージ方式の比較

| 観点 | オブジェクトストレージ | ファイルストレージ | ブロックストレージ |
|------|---------------------|-------------------|-------------------|
| **データ管理単位** | オブジェクト（データ+メタデータ+ID） | ファイル（階層的ディレクトリ構造） | ブロック（固定サイズの領域） |
| **アクセス方式** | HTTP(S) / REST API | NFS / CIFS（SMB） | iSCSI / Fibre Channel |
| **スケーラビリティ** | ほぼ無制限 | 制限あり（階層が深くなると性能低下） | 制限あり |
| **性能** | スループット向き（大量データの読み書き） | 汎用的 | 低レイテンシ・高 IOPS |
| **適するユースケース** | 大量の非構造化データ、バックアップ、データレイク | 共有ファイル、ホームディレクトリ | データベース、OS ボリューム |
| **データ更新** | オブジェクト全体の置換（部分更新不可） | 部分更新可能 | ブロック単位で更新可能 |

### メリット

- **スケーラビリティ**: フラットなアーキテクチャによりほぼ無限に拡張可能。ペタバイト〜エクサバイト規模のデータを格納できる
- **コスト効率**: ブロックストレージやファイルストレージに比べて GB 単価が低い。ストレージクラスの階層化により、アクセス頻度に応じたコスト最適化が可能
- **耐久性**: データの冗長化により高い耐久性を実現（Amazon S3 は 99.999999999% = イレブンナイン）
- **メタデータの柔軟性**: カスタムメタデータを自由に付与でき、データの検索・分類・分析に活用できる
- **API アクセス**: REST API 経由で場所を問わずアクセス可能。プログラムからの操作が容易
- **運用負荷の低減**: クラウドサービスの場合、容量計画やハードウェア管理が不要

### デメリット

- **部分更新不可**: オブジェクト全体を書き換える必要があり、頻繁な更新が必要なデータには不向き
- **レイテンシ**: ブロックストレージに比べてアクセスレイテンシが高い
- **データエグレスコスト**: クラウドサービスではデータ取り出し時の転送料金が高額になりうる
- **ディレクトリ操作**: 階層的なファイル操作（移動、リネーム）が直感的でない

### よく使われるツール

#### クラウドサービス

| サービス | 提供元 | 特徴 |
|---------|--------|------|
| **Amazon S3** | AWS | オブジェクトストレージのデファクトスタンダード。S3 API が業界標準に。Standard / Intelligent-Tiering / Glacier 等のストレージクラス。[[データレイク]]構築の中核 |
| **Azure Blob Storage** | Microsoft | Hot / Cool / Cold / Archive の4層ストレージ。Azure エコシステムとの統合。Premium 層で高性能ワークロードにも対応 |
| **Google Cloud Storage** | Google | Standard / Nearline / Coldline / Archive の4クラス。BigQuery との統合。Autoclass による自動的なクラス移行 |
| **Cloudflare R2** | Cloudflare | S3 互換 API。データエグレス料金が無料。CDN エッジとの統合 |

#### オンプレミス / セルフホスト

| ツール                     | 特徴                                               |
| ----------------------- | ------------------------------------------------ |
| **[[MinIO]]**           | S3 互換の高性能オブジェクトストレージ。OSS。オンプレミス・プライベートクラウドで広く利用  |
| **Ceph（RADOS Gateway）** | 分散ストレージシステム。S3 / Swift 互換 API を提供。OpenStack との統合 |
| **NetApp StorageGRID**  | エンタープライズ向け。S3 互換。ポリシーベースのデータ管理                   |

#### S3 互換サービス

Amazon S3 の API がデファクトスタンダードとなり、多くのサービスが S3 互換 API を提供している。これにより、アプリケーションの変更なしにストレージプロバイダーを切り替えられる:

- Wasabi（低コスト、エグレス料金無料）
- Backblaze B2（S3 互換 API 対応、低コスト）
- Oracle Cloud Object Storage（S3 互換 API 対応）
- Akamai Object Storage（旧 Linode、S3 互換）

### データレイクとの関係

オブジェクトストレージは[[データレイク]]のストレージ層として広く採用されている。スキーマレスでのデータ格納、低コストでの大量データ保存、API 経由のアクセスといった特性がデータレイクの要件と合致する。Apache Iceberg や Delta Lake などのオープンテーブルフォーマットにより、オブジェクトストレージ上でテーブル形式のデータ管理も可能になっている。

## ポイント

- データ+メタデータ+一意 ID の「オブジェクト」単位で管理するフラットなストレージ方式
- ほぼ無限のスケーラビリティ、低コスト、高耐久性が主なメリット
- 部分更新不可、レイテンシの高さがデメリットで、DB やトランザクション処理には不向き
- Amazon S3 の API がデファクトスタンダードとなり、S3 互換エコシステムが拡大
- [[データレイク]]のストレージ層として広く採用され、[[データ基盤]]の重要な構成要素

## 関連項目

- [[データ基盤]]
- [[データレイク]]
- [[MinIO]]
- [[Apache Parquet]]

## 参考

- [AWS - Block vs File vs Object Storage](https://aws.amazon.com/compare/the-difference-between-block-file-object-storage/)
- [AWS - What is Object Storage?](https://aws.amazon.com/what-is/object-storage/)
- [Google Cloud - What is Object Storage?](https://cloud.google.com/learn/what-is-object-storage)
- [Cloudflare - What is object storage?](https://www.cloudflare.com/learning/cloud/what-is-object-storage/)
- [さくらのクラウド - オブジェクトストレージとは？](https://cloud.sakura.ad.jp/column/object-storage/)
- [ソフトバンク - オブジェクトストレージ、ファイルストレージ、ブロックストレージの違い](https://www.softbank.jp/biz/blog/business/articles/202007/storage-difference/)
