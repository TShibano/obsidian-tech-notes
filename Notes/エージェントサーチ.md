---
title: "エージェントサーチ"
date: 2026-02-20
tags:
  - AI
  - Agent
  - LLM
related:
  - "[[RAG]]"
  - "[[Claude Code]]"
  - "[[サブエージェント]]"
---

## 概要

エージェントサーチ（Agentic Search / Agentic Retrieval）とは、AI エージェントが自律的に計画・ツール選択・反復的な検索を行いながら情報を収集する手法である。従来の RAG が単一の静的検索で終わるのに対し、エージェントサーチはクエリを分解・複数ソースを並行検索・中間結果を評価して再クエリするという動的なパイプラインを構成する。

## 詳細

### 従来 RAG との比較

| 観点 | 従来 RAG | エージェントサーチ |
|------|----------|-----------------|
| 検索戦略 | 固定（ベクトル検索のみ等） | 動的（クエリに応じて戦略を選択） |
| ワークフロー | 線形（ingest → retrieve → generate） | 反復的・多段階 |
| クエリ処理 | 単一クエリをそのまま使用 | 複雑なクエリを複数サブクエリに分解 |
| 複数ソース | 1つのインデックスのみ | DB・Web・構造化 DB など複数ソース |
| 自己評価 | なし | 取得結果を評価・必要なら再クエリ |

### コアパターン

#### 1. クエリ分解（Query Decomposition）

LLM が複合的なクエリをより小さな焦点を絞ったサブクエリに分解し、それぞれに最適な検索戦略を適用する。

#### 2. 動的戦略選択

クエリの種類・ドメイン・コンテキストに応じてエージェントが最適な検索手段を選択する：
- セマンティック検索（ベクトル類似度）
- 構造化 DB クエリ（SQL）
- Web 検索
- レコメンデーションエンジン

#### 3. Reflection（反省・再評価）

取得した結果を評価し、十分でない場合は戦略を変えて再クエリする。

#### 4. マルチエージェント協調

複数のエージェントが異なる検索タスクを並列実行し、結果を統合する。

### 主要実装例

**Azure AI Search の Agentic Retrieval**
複雑な質問を LLM が複数のサブクエリに分解し、各結果をセマンティック再ランキングして統合する多クエリパイプライン。RAG パターンおよびエージェント間ワークフローに最適化。

**OpenSearch の Agentic Search**
AI エージェントが外部システム・ツールと連携しながら情報を取得するフレームワーク。エージェントがタスクを計画し適切なツールを呼び出す。

**LlamaIndex の Agentic Retrieval**
「Retrieve しないか・何を・どこから・どのように取得するか」を動的に決定するモジュール型アーキテクチャ。固定的な RAG から適応的な検索へと進化。

### Agentic RAG とエージェントサーチの関係

Agentic RAG はエージェントサーチの概念を RAG システムに応用したものと捉えられる。RAG パイプラインの各ステップ（クエリ変換・検索・再ランキング・生成）にエージェントの自律性・計画・ツール呼び出しを組み込む。

```
[ユーザークエリ]
       ↓
[クエリ分析・分解エージェント]
       ↓
[並列マルチソース検索エージェント]
   ↙   ↓   ↘
[Vector DB] [Web] [SQL DB]
       ↓
[結果評価エージェント]
  ↓（不十分なら再検索）
[回答生成エージェント]
       ↓
[最終回答]
```

### 2026年の動向

- 検索・スケール・メモリが企業向けエージェント AI の重要差別化要素になっている
- 「エージェント対応データベース」の概念が登場し、AI エージェントが複数の外部システムと連携できるよう設計されたデータベースが増加
- 61% の B2C テックリーダーが 2026 年にエージェント型 AI を活用し ROI の最大化を目指している

## ポイント

- 従来 RAG の失敗（低品質コンテンツの優先・コンテキスト理解不足・多段階タスクへの対応不能）をエージェントサーチが補完する
- 単純な質問には従来 RAG の方が低レイテンシで適切なケースもある
- エージェントサーチは計算コストが高いため、クエリの複雑さに応じて使い分けることが重要
- 検索の失敗を検知して自動的に戦略を切り替える Reflection パターンが精度向上に有効

## 関連項目

- [[RAG]]
- [[Claude Code]]
- [[サブエージェント]]

## 参考

- [Traditional RAG vs. Agentic RAG - NVIDIA Technical Blog](https://developer.nvidia.com/blog/traditional-rag-vs-agentic-rag-why-ai-agents-need-dynamic-knowledge-to-get-smarter/)
- [Agentic Retrieval-Augmented Generation: A Survey (arXiv 2501.09136)](https://arxiv.org/abs/2501.09136)
- [Agentic Retrieval - Azure AI Search](https://learn.microsoft.com/en-us/azure/search/agentic-retrieval-overview)
- [Agentic Retrieval Guide - LlamaIndex](https://www.llamaindex.ai/blog/rag-is-dead-long-live-agentic-retrieval)
- [Agentic Search - OpenSearch](https://docs.opensearch.org/latest/vector-search/ai-search/agentic-search/index/)
